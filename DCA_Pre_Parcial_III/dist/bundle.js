(()=>{"use strict";var e,t,n,r,a={},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return a[e](n,n.exports,s),n.exports}s.m=a,s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="bookloop_copie:",s.l=(n,r,a,o)=>{if(e[n])e[n].push(r);else{var i,c;if(void 0!==a)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var h=d[l];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+a){i=h;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[r];var u=(t,r)=>{i.onerror=i.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),c&&document.head.appendChild(i)}},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={792:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=s.p+s.u(t),i=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[o,i,c]=n,d=0;if(o.some((t=>0!==e[t]))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);c&&c(s)}for(t&&t(n);d<o.length;d++)a=o[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkbookloop_copie=self.webpackChunkbookloop_copie||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),function(e){e.HOME="HOME",e.PRODUCTS="PRODUCTS",e.ADDPRODUCTS="ADDPRODUCTS",e.MODIFYPRODUCTS="MODIFYPROMDUCTS",e.EDITPRODUCTS="EDITPRODUCTS"}(n||(n={})),function(e){e.NAVIGATE="NAVIGATE",e.ADDPRODUCTS="ADDPRODUCTS",e.GETPRODUCTS="GETPRODUCTS"}(r||(r={}));let i={screen:"HOME",products:[]},c=[];const d=e=>{const t=((e,t)=>{const{action:n,payload:a}=e;switch(n){case r.NAVIGATE:return{...t,screen:a};case r.ADDPRODUCTS:return{...t,products:[...t.products,a]};case r.GETPRODUCTS:return{...t,products:a||[]};default:return t}})(e,JSON.parse(JSON.stringify(i)));i=t,c.forEach((e=>e.render()))},l=e=>{c=[...c,e]};let h;const u=async()=>{if(!h){const{initializeApp:e}=await Promise.all([s.e(990),s.e(223)]).then(s.bind(s,223)),{getFirestore:t}=await Promise.all([s.e(990),s.e(594)]).then(s.bind(s,594)),{firebaseConfig:n}=await s.e(913).then(s.bind(s,913)),r=e(n);h=t(r)}return h},m=e=>({action:r.NAVIGATE,payload:e}),p=async e=>{const t=await(async e=>{try{const t=await u(),{setDoc:n,doc:r}=await Promise.all([s.e(990),s.e(594)]).then(s.bind(s,594)),a=r(t,"products",e.id);return await n(a,e),!0}catch(e){return console.error("Error adding document:",e),!1}})(e);return t?{action:r.ADDPRODUCTS,payload:e}:null},b=async()=>{const e=await(async()=>{try{const e=await u(),{getDocs:t,collection:n}=await Promise.all([s.e(990),s.e(594)]).then(s.bind(s,594)),r=n(e,"products"),a=await t(r),o=[];return a.forEach((e=>{o.push(e.data())})),o}catch(e){console.error("Error getting document:",e)}})();return{action:r.GETPRODUCTS,payload:e}};class E extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.credentials={url:"",album:"",artist:"",price:0,quantity:0},this.submitForm=this.submitForm.bind(this),this.changeUrl=this.changeUrl.bind(this),this.changeAlbum=this.changeAlbum.bind(this),this.changeArtist=this.changeArtist.bind(this),this.changePrice=this.changePrice.bind(this),this.changeQuantity=this.changeQuantity.bind(this)}connectedCallback(){this.render()}changeUrl(e){const t=e.target;this.credentials.url=t.value}changeAlbum(e){const t=e.target;this.credentials.album=t.value}changeArtist(e){const t=e.target;this.credentials.artist=t.value}changePrice(e){const t=e.target;this.credentials.price=Number(t.value)}changeQuantity(e){const t=e.target;this.credentials.quantity=Number(t.value)}validateForm(){return this.credentials.url&&this.credentials.album&&this.credentials.artist?isNaN(this.credentials.price)||this.credentials.price<=0?(alert("Please enter a valid price"),!1):!(isNaN(this.credentials.quantity)||this.credentials.quantity<=0)||(alert("Please enter a valid quantity"),!1):(alert("Please fill all text fields"),!1)}async submitForm(){if(!this.validateForm())return;const e=await p(this.credentials);e?(d(e),d(m(n.HOME))):alert("Could not create the product")}render(){if(!this.shadowRoot)return;const e=document.createElement("section");e.className="form-container";const t=document.createElement("div");t.className="form-div";const n=document.createElement("h1");n.innerText="Edit Product",n.className="form-title",t.appendChild(n);const r=document.createElement("input");r.placeholder="URL",r.type="url",r.className="form-input",r.required=!0,r.addEventListener("change",this.changeUrl),t.appendChild(r);const a=document.createElement("input");a.placeholder="Album",a.className="form-input",a.required=!0,a.addEventListener("change",this.changeAlbum),t.appendChild(a);const o=document.createElement("input");o.placeholder="Artist",o.className="form-input",o.required=!0,o.addEventListener("change",this.changeArtist),t.appendChild(o);const s=document.createElement("input");s.placeholder="Price",s.type="number",s.min="0",s.step="0.01",s.className="form-input",s.required=!0,s.addEventListener("change",this.changePrice),t.appendChild(s);const i=document.createElement("input");i.placeholder="Quantity",i.type="number",i.min="1",i.step="1",i.className="form-input",i.required=!0,i.addEventListener("change",this.changeQuantity),t.appendChild(i);const c=document.createElement("button");c.innerText="Start now",c.className="form-button",c.addEventListener("click",this.submitForm),t.appendChild(c),e.appendChild(t),this.shadowRoot.appendChild(e)}}customElements.define("edit-form",E);class g extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.navigateToHome=this.navigateToHome.bind(this)}connectedCallback(){this.render()}async navigateToHome(){try{const e=await m(n.HOME);return!!e&&(d(e),!0)}catch(e){return console.error("Error navigating to home:",e),!1}}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=document.createElement("style");e.textContent="\n                .home-button {\n                    background-color: #007BFF;\n                    color: white;\n                    border: none;\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    cursor: pointer;\n                    border-radius: 5px;\n                }\n                .home-button:hover {\n                    background-color: #0056b3;\n                }\n            ";const t=document.createElement("button");t.textContent="Home",t.className="home-button",t.addEventListener("click",this.navigateToHome),this.shadowRoot.append(e,t)}}}customElements.define("home-button",g);class w extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.navigateToAddProductScreen=this.navigateToAddProductScreen.bind(this)}connectedCallback(){this.render()}async navigateToAddProductScreen(){try{const e=await m(n.ADDPRODUCTS);return!!e&&(d(e),!0)}catch(e){return console.error("Error navigating to add product screen:",e),!1}}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=document.createElement("style");e.textContent="\n                .add-screen-button {\n                    background-color: #007BFF;\n                    color: white;\n                    border: none;\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    cursor: pointer;\n                    border-radius: 5px;\n                }\n                .add-screen-button:hover {\n                    background-color: #0056b3;\n                }\n            ";const t=document.createElement("button");t.textContent="Add Product",t.className="add-screen-button",t.addEventListener("click",this.navigateToAddProductScreen),this.shadowRoot.append(e,t)}}}customElements.define("add-screen-button",w);class C extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.navigateToModifyProductScreen=this.navigateToModifyProductScreen.bind(this)}connectedCallback(){this.render()}async navigateToModifyProductScreen(){try{const e=await m(n.MODIFYPRODUCTS);return!!e&&(d(e),!0)}catch(e){return console.error("Error navigating to add product screen:",e),!1}}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=document.createElement("style");e.textContent="\n                .modify-screen-button {\n                    background-color: #007BFF;\n                    color: white;\n                    border: none;\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    cursor: pointer;\n                    border-radius: 5px;\n                }\n                .modify-screen-button:hover {\n                    background-color: #0056b3;\n                }\n            ";const t=document.createElement("button");t.textContent="Modify Product",t.className="modify-screen-button",t.addEventListener("click",this.navigateToModifyProductScreen),this.shadowRoot.append(e,t)}}}customElements.define("modify-screen-button",C);class f extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){if(this.shadowRoot){const e=this.ownerDocument.createElement("section");e.className="form-container";const t=this.ownerDocument.createElement("div");t.className="navigate-buttons-container";const n=this.ownerDocument.createElement("home-button"),r=this.ownerDocument.createElement("add-screen-button"),a=this.ownerDocument.createElement("modify-screen-button");t.appendChild(n),t.appendChild(r),t.appendChild(a),e.appendChild(t);const o=this.ownerDocument.createElement("edit-form");e.appendChild(o),this.shadowRoot.appendChild(e)}}}customElements.define("app-edit-products",f);class v extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.credentials={id:this.generateUniqueId(),url:"",album:"",artist:"",price:0,quantity:0},this.submitForm=this.submitForm.bind(this),this.changeUrl=this.changeUrl.bind(this),this.changeAlbum=this.changeAlbum.bind(this),this.changeArtist=this.changeArtist.bind(this),this.changePrice=this.changePrice.bind(this),this.changeQuantity=this.changeQuantity.bind(this)}generateUniqueId(){return`${(new Date).getTime()}-${Math.floor(1e4*Math.random())}`}connectedCallback(){this.render()}changeUrl(e){const t=e.target;this.credentials.url=t.value}changeAlbum(e){const t=e.target;this.credentials.album=t.value}changeArtist(e){const t=e.target;this.credentials.artist=t.value}changePrice(e){const t=e.target;this.credentials.price=Number(t.value)}changeQuantity(e){const t=e.target;this.credentials.quantity=Number(t.value)}validateForm(){return this.credentials.url&&this.credentials.album&&this.credentials.artist?isNaN(this.credentials.price)||this.credentials.price<=0?(alert("Please enter a valid price"),!1):!(isNaN(this.credentials.quantity)||this.credentials.quantity<=0)||(alert("Please enter a valid quantity"),!1):(alert("Please fill all text fields"),!1)}async submitForm(){if(!this.validateForm())return;this.credentials.id||(this.credentials.id=this.generateUniqueId());const e=await p(this.credentials);e?(d(e),d(m(n.HOME))):alert("Could not create the product")}render(){if(!this.shadowRoot)return;const e=document.createElement("section");e.className="form-container";const t=document.createElement("div");t.className="form-div";const n=document.createElement("h1");n.innerText="Add New Product",n.className="form-title",t.appendChild(n);const r=document.createElement("input");r.placeholder="URL",r.type="url",r.className="form-input",r.required=!0,r.addEventListener("change",this.changeUrl),t.appendChild(r);const a=document.createElement("input");a.placeholder="Album",a.className="form-input",a.required=!0,a.addEventListener("change",this.changeAlbum),t.appendChild(a);const o=document.createElement("input");o.placeholder="Artist",o.className="form-input",o.required=!0,o.addEventListener("change",this.changeArtist),t.appendChild(o);const s=document.createElement("input");s.placeholder="Price",s.type="number",s.min="0",s.step="0.01",s.className="form-input",s.required=!0,s.addEventListener("change",this.changePrice),t.appendChild(s);const i=document.createElement("input");i.placeholder="Quantity",i.type="number",i.min="1",i.step="1",i.className="form-input",i.required=!0,i.addEventListener("change",this.changeQuantity),t.appendChild(i);const c=document.createElement("button");c.innerText="Start now",c.className="form-button",c.addEventListener("click",this.submitForm),t.appendChild(c),e.appendChild(t),this.shadowRoot.appendChild(e)}}customElements.define("add-form",v);class y extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){if(this.shadowRoot){const e=this.ownerDocument.createElement("section");e.className="form-container";const t=this.ownerDocument.createElement("div");t.className="navigate-buttons-container";const n=this.ownerDocument.createElement("home-button"),r=this.ownerDocument.createElement("add-screen-button"),a=this.ownerDocument.createElement("modify-screen-button");t.appendChild(n),t.appendChild(r),t.appendChild(a),e.appendChild(t);const o=this.ownerDocument.createElement("add-form");e.appendChild(o),this.shadowRoot.appendChild(e)}}}customElements.define("app-add-products",y);class D extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.navigateToEditProductScreen=this.navigateToEditProductScreen.bind(this)}connectedCallback(){this.render()}async navigateToEditProductScreen(){try{const e=await m(n.EDITPRODUCTS);return!!e&&(d(e),!0)}catch(e){return console.error("Error navigating to add product screen:",e),!1}}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=document.createElement("style");e.textContent="\n                .edit-button {\n                    background-color: #007BFF;\n                    color: white;\n                    border: none;\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    cursor: pointer;\n                    border-radius: 5px;\n                }\n                .edit-button:hover {\n                    background-color: #0056b3;\n                }\n            ";const t=document.createElement("button");t.textContent="Edit",t.className="edit-button",t.addEventListener("click",this.navigateToEditProductScreen),this.shadowRoot.append(e,t)}}}customElements.define("edit-button",D);class T extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){if(this.shadowRoot){const e=this.ownerDocument.createElement("button");e.textContent="Delete",e.className="delete-button",this.shadowRoot.appendChild(e)}}}var N,P;customElements.define("delete-button",T),function(e){e.url="url",e.album="album",e.artist="artist",e.price="price",e.quantity="quantity"}(N||(N={}));class R extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys(N)}attributeChangedCallback(e,t,n){switch(e){case N.url:this.url=n;break;case N.album:this.album=n;break;case N.artist:this.artist=n;break;case N.price:this.price=n?Number(n):0;break;case N.quantity:this.quantity=n?Number(n):0}this.render()}connectedCallback(){this.render(),l(this)}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=this.ownerDocument.createElement("div");e.className="products-card";const t=this.ownerDocument.createElement("img");t.className="products-img",t.src=this.url||"No image available",t.alt=this.album||"No album available",e.appendChild(t);const n=this.ownerDocument.createElement("h2");n.className="products-album",n.textContent=this.album||"No album available",e.appendChild(n);const r=this.ownerDocument.createElement("p");r.className="products-artist",r.textContent=this.artist||"No artist available",e.appendChild(r);const a=this.ownerDocument.createElement("p");a.className="products-price",a.textContent=`Price: $${this.price||0}`,e.appendChild(a);const o=this.ownerDocument.createElement("p");o.className="products-quantity",o.textContent=`Quantity: ${this.quantity||0}`,e.appendChild(o),this.shadowRoot.appendChild(e)}}}customElements.define("products-home-component",R);class A extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),l(this)}async connectedCallback(){if(0===i.products.length){const e=await b();e&&d(e)}this.render()}async renderProducts(){this.productsContainer&&(i.products&&Array.isArray(i.products)?(this.productsContainer.innerHTML="",i.products.forEach((e=>{const t=this.ownerDocument.createElement("products-home-component");t.setAttribute(N.url,e.url),t.setAttribute(N.album,e.album),t.setAttribute(N.artist,e.artist),t.setAttribute(N.price,e.price.toString()),t.setAttribute(N.quantity,e.quantity.toString()),t.classList.add("product"),this.productsContainer?.appendChild(t)}))):console.log("No products found"))}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=this.ownerDocument.createElement("section");e.className="home-container";const t=this.ownerDocument.createElement("div");t.className="navigate-buttons-container";const n=this.ownerDocument.createElement("home-button"),r=this.ownerDocument.createElement("add-screen-button"),a=this.ownerDocument.createElement("modify-screen-button");t.appendChild(n),t.appendChild(r),t.appendChild(a),e.appendChild(t),this.productsContainer=this.ownerDocument.createElement("div"),this.productsContainer.className="products-container",e.appendChild(this.productsContainer),this.shadowRoot.appendChild(e),this.renderProducts()}}}customElements.define("app-home",A),function(e){e.url="url",e.album="album",e.artist="artist",e.price="price",e.quantity="quantity"}(P||(P={}));class S extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys(P)}attributeChangedCallback(e,t,n){switch(e){case P.url:this.url=n;break;case P.album:this.album=n;break;case P.artist:this.artist=n;break;case P.price:this.price=n?Number(n):0;break;case P.quantity:this.quantity=n?Number(n):0}this.render()}connectedCallback(){this.render(),l(this)}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=this.ownerDocument.createElement("div");e.className="products-card";const t=this.ownerDocument.createElement("img");t.className="products-img",t.src=this.url||"No image available",t.alt=this.album||"No album available",e.appendChild(t);const n=this.ownerDocument.createElement("h2");n.className="products-album",n.textContent=this.album||"No album available",e.appendChild(n);const r=this.ownerDocument.createElement("p");r.className="products-artist",r.textContent=this.artist||"No artist available",e.appendChild(r);const a=this.ownerDocument.createElement("p");a.className="products-price",a.textContent=`Price: $${this.price||0}`,e.appendChild(a);const o=this.ownerDocument.createElement("p");o.className="products-quantity",o.textContent=`Quantity: ${this.quantity||0}`,e.appendChild(o);const s=this.ownerDocument.createElement("edit-button");e.appendChild(s);const i=this.ownerDocument.createElement("delete-button");e.appendChild(i),this.shadowRoot.appendChild(e)}}}customElements.define("products-component",S);class k extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),l(this)}async connectedCallback(){if(0===i.products.length){const e=await b();e&&d(e)}this.render()}async renderProducts(){this.productsContainer&&(i.products&&Array.isArray(i.products)?(this.productsContainer.innerHTML="",i.products.forEach((e=>{const t=this.ownerDocument.createElement("products-component");t.setAttribute(P.url,e.url),t.setAttribute(P.album,e.album),t.setAttribute(P.artist,e.artist),t.setAttribute(P.price,e.price.toString()),t.setAttribute(P.quantity,e.quantity.toString()),t.classList.add("product"),this.productsContainer?.appendChild(t)}))):console.log("No products found"))}render(){if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=this.ownerDocument.createElement("section");e.className="home-container";const t=this.ownerDocument.createElement("div");t.className="navigate-buttons-container";const n=this.ownerDocument.createElement("home-button"),r=this.ownerDocument.createElement("add-screen-button"),a=this.ownerDocument.createElement("modify-screen-button");t.appendChild(n),t.appendChild(r),t.appendChild(a),e.appendChild(t),this.productsContainer=this.ownerDocument.createElement("div"),this.productsContainer.className="products-container",e.appendChild(this.productsContainer),this.shadowRoot.appendChild(e),this.renderProducts()}}}customElements.define("app-modify-products",k);class x extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),l(this)}connectedCallback(){this.render()}render(){if(this.shadowRoot){switch(this.shadowRoot.innerHTML="",i.screen){case n.HOME:const e=this.ownerDocument.createElement("app-home");this.shadowRoot.appendChild(e);break;case n.EDITPRODUCTS:const t=this.ownerDocument.createElement("app-edit-products");this.shadowRoot.appendChild(t);break;case n.ADDPRODUCTS:const r=this.ownerDocument.createElement("app-add-products");this.shadowRoot.appendChild(r);break;case n.MODIFYPRODUCTS:const a=this.ownerDocument.createElement("app-modify-products");this.shadowRoot.appendChild(a)}console.log("Current screen:",i.screen)}}}customElements.define("app-container",x)})();